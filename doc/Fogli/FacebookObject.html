<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta name="Content-Type" content="text/html; charset=utf8" />
<title>Class: Fogli::FacebookObject</title>
<link rel="stylesheet" href="../css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '..';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/app.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (F)</a> &raquo; 
    <span class='title'><a href="../Fogli.html" title="Fogli (module)">Fogli</a></span>
     &raquo; 
    <span class="title">FacebookObject</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  <a id="class_list_link" href="#">Class List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: Fogli::FacebookObject
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><a href="FacebookGraph.html" title="Fogli::FacebookGraph (class)">FacebookGraph</a></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next"><a href="FacebookGraph.html" title="Fogli::FacebookGraph (class)">FacebookGraph</a></li>
          
            <li class="next">Fogli::FacebookObject</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
      <dt class="r2">Extended by:</dt>
      <dd class="r2"><a href="Util/Options.html" title="Fogli::Util::Options (module)">Util::Options</a></dd>
      
    
  
    
      <dt class="r1">Includes:</dt>
      <dd class="r1"><a href="FacebookObject/Connections.html" title="Fogli::FacebookObject::Connections (module)">FacebookObject::Connections</a>, <a href="FacebookObject/Properties.html" title="Fogli::FacebookObject::Properties (module)">FacebookObject::Properties</a></dd>
      
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/fogli/facebook_object.rb<span class="defines">,<br />
  lib/fogli/facebook_object/properties.rb,<br /> lib/fogli/facebook_object/connections.rb,<br /> lib/fogli/facebook_object/scope_methods.rb,<br /> lib/fogli/facebook_object/connection_scope.rb,<br /> lib/fogli/facebook_object/connection_proxy.rb</span>
</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>Represents any facebook object. This exposes the common
abstractions used by every other facebook object such as the
concept of properties and connections.</p>

<h1>Finding an Object</h1>

<p>To find any Facebook object, use the <tt><a href="#find-class_method" title="Fogli::FacebookObject.find (method)">FacebookObject.find</a></tt> method. The find
method is <em>lazy</em>, meaning that it doesn't actually make the HTTP
request to Facebook then, but instead defers the call to when the
first property is accessed.</p>

<pre class="code"><span class='user identifier id'>user</span> <span class='assign token'>=</span> <span class='Fogli constant id'>Fogli</span><span class='colon2 op'>::</span><span class='User constant id'>User</span><span class='lbrack token'>[</span><span class='string val'>&quot;mitchellh&quot;</span><span class='rbrack token'>]</span>
<span class='user identifier id'>user</span><span class='dot token'>.</span><span class='first_name identifier id'>first_name</span> <span class='comment val'># HTTP request is made here</span>
<span class='user identifier id'>user</span><span class='dot token'>.</span><span class='last_name identifier id'>last_name</span>  <span class='comment val'># Loaded already so not request is made</span>
</pre>

<h1>Finding an Object, but Selecting Specific Fields</h1>

<p>To conserve bandwidth and lower transfer time, you can select only
specific fields of an object. An example is shown below:</p>

<pre class="code"><span class='user identifier id'>user</span> <span class='assign token'>=</span> <span class='Fogli constant id'>Fogli</span><span class='colon2 op'>::</span><span class='User constant id'>User</span><span class='dot token'>.</span><span class='find identifier id'>find</span><span class='lparen token'>(</span><span class='string val'>&quot;mitchellh&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:fields</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='symbol val'>:first_name</span><span class='comma token'>,</span> <span class='symbol val'>:last_name</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
<span class='user identifier id'>user</span><span class='dot token'>.</span><span class='first_name identifier id'>first_name</span> <span class='comment val'># &quot;Mitchell&quot;</span>
<span class='user identifier id'>user</span><span class='dot token'>.</span><span class='link identifier id'>link</span>       <span class='comment val'># nil, since we didn't request it</span>
</pre>

<h1>Checking if an Object Exists</h1>

<p>Since objects are lazy loaded, you can't check the return value of
<tt><a href="#find-class_method" title="Fogli::FacebookObject.find (method)">FacebookObject.find</a></tt> to see if an object exists. Instead, you must use the
dedicated <tt><a href="#exist%3F-class_method" title="Fogli::FacebookObject.exist? (method)">FacebookObject.exist?</a></tt> or <tt><a href="#exist%3F-instance_method" title="Fogli::FacebookObject#exist? (method)">FacebookObject#exist?</a></tt> methods. The difference is
outlined below:</p>

<ul>
<li><tt><a href="#exist%3F-instance_method" title="Fogli::FacebookObject#exist? (method)">FacebookObject#exist?</a></tt> loads all of the data associated with an instance to
check for existence, so that the data is ready to go on a property
access.</li>
<li><tt><a href="#exist%3F-class_method" title="Fogli::FacebookObject.exist? (method)">FacebookObject.exist?</a></tt> only loads the ID of an object, which uses less
bandwidth and has less overhead associated with it. This is ideal
for only checking if an object exists, but not caring about the
properties.</li>
</ul>


  </div>
</div>
<div class="tags">
  
</div><div id="subclasses">
  <h2>Direct Known Subclasses</h2>
  <p class="children"><a href="Album.html" title="Fogli::Album (class)">Album</a>, <a href="Comment.html" title="Fogli::Comment (class)">Comment</a>, <a href="Event.html" title="Fogli::Event (class)">Event</a>, <a href="Group.html" title="Fogli::Group (class)">Group</a>, <a href="Link.html" title="Fogli::Link (class)">Link</a>, <a href="NamedObject.html" title="Fogli::NamedObject (class)">NamedObject</a>, <a href="Note.html" title="Fogli::Note (class)">Note</a>, <a href="Page.html" title="Fogli::Page (class)">Page</a>, <a href="Photo.html" title="Fogli::Photo (class)">Photo</a>, <a href="Post.html" title="Fogli::Post (class)">Post</a>, <a href="Status.html" title="Fogli::Status (class)">Status</a>, <a href="User.html" title="Fogli::User (class)">User</a>, <a href="Video.html" title="Fogli::Video (class)">Video</a></p>
</div>
<h2>Defined Under Namespace</h2>
<p class="children">
   
    
      <strong class="modules">Modules:</strong> <a href="FacebookObject/Connections.html" title="Fogli::FacebookObject::Connections (module)">Connections</a>, <a href="FacebookObject/Properties.html" title="Fogli::FacebookObject::Properties (module)">Properties</a>, <a href="FacebookObject/ScopeMethods.html" title="Fogli::FacebookObject::ScopeMethods (module)">ScopeMethods</a>
    
   
    
      <strong class="classes">Classes:</strong> <a href="FacebookObject/ConnectionProxy.html" title="Fogli::FacebookObject::ConnectionProxy (class)">ConnectionProxy</a>, <a href="FacebookObject/ConnectionScope.html" title="Fogli::FacebookObject::ConnectionScope (class)">ConnectionScope</a>
    
  
</p>

  <h2>Constant Summary</h2>
  


  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <h3 class="inherited">Constants inherited from <a href="FacebookGraph.html" title="Fogli::FacebookGraph (class)">FacebookGraph</a></h3>
  <p class="inherited"><a href="FacebookGraph.html#GRAPH_DOMAIN-constant" title="Fogli::FacebookGraph::GRAPH_DOMAIN (constant)">GRAPH_DOMAIN</a></p>

  <h2>Instance Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#_fields-instance_method" title="#_fields (instance method)">- (Object) <strong>_fields</strong> </a>
    

    
  </span>
  
  
    <span class="note title readonly">readonly</span>
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns the value of attribute _fields.</p></div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#_raw-instance_method" title="#_raw (instance method)">- (Object) <strong>_raw</strong> </a>
    

    
  </span>
  
  
    <span class="note title readonly">readonly</span>
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns the value of attribute _raw.</p></div></span>
  
</li>

    
  </ul>


  
    <h2>
      Class Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#exist%3F-class_method" title="exist? (class method)">+ (Boolean) <strong>exist?</strong>(id) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Checks if the given object exists within the Facebook
Graph.</p></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find-class_method" title="find (class method)">+ (FacebookObject) <strong>find</strong>(id, options = nil) </a>
    

    
      (also: [])
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Finds the facebook object associated with the given <code>id</code>.</p></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#inherited-class_method" title="inherited (class method)">+ (Object) <strong>inherited</strong>(subclass) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Propagates the properties and connections to any subclasses
which inherit from FacebookObject.</p></div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#delete-instance_method" title="#delete (instance method)">- (Object) <strong>delete</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Delete an object.</p></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#exist%3F-instance_method" title="#exist? (instance method)">- (Boolean) <strong>exist?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Checks if the given object exists.</p></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (FacebookObject) <strong>initialize</strong>(data = nil) </a>
    

    
  </span>
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Initialize a facebook object.</p></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#inspect-instance_method" title="#inspect (instance method)">- (Object) <strong>inspect</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Customize the inspect method to pretty print Facebook objects
and their associated properties and connections.</p></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#load%21-instance_method" title="#load! (instance method)">- (Object) <strong>load!</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Loads the data from Facebook.</p></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#loaded%3F-instance_method" title="#loaded? (instance method)">- (Boolean) <strong>loaded?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns a boolean noting if the object's data has been loaded
yet.</p></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#read_property-instance_method" title="#read_property (instance method)">- (Object) <strong>read_property</strong>(name) </a>
    

    
      (also: #read_property_original)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <a href="Util/Options.html" title="Fogli::Util::Options (module)">Util::Options</a></h3>
  <p class="inherited"><a href="Util/Options.html#verify_options-instance_method" title="Fogli::Util::Options#verify_options (method)">verify_options</a></p>

  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <a href="FacebookObject/Properties.html" title="Fogli::FacebookObject::Properties (module)">FacebookObject::Properties</a></h3>
  <p class="inherited"><a href="FacebookObject/Properties.html#included-class_method" title="Fogli::FacebookObject::Properties.included (method)">included</a>, <a href="FacebookObject/Properties.html#populate_properties-instance_method" title="Fogli::FacebookObject::Properties#populate_properties (method)">#populate_properties</a>, <a href="FacebookObject/Properties.html#property_values-instance_method" title="Fogli::FacebookObject::Properties#property_values (method)">#property_values</a></p>

  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <a href="FacebookObject/Connections.html" title="Fogli::FacebookObject::Connections (module)">FacebookObject::Connections</a></h3>
  <p class="inherited"><a href="FacebookObject/Connections.html#connection_values-instance_method" title="Fogli::FacebookObject::Connections#connection_values (method)">#connection_values</a>, <a href="FacebookObject/Connections.html#included-class_method" title="Fogli::FacebookObject::Connections.included (method)">included</a>, <a href="FacebookObject/Connections.html#read_connection-instance_method" title="Fogli::FacebookObject::Connections#read_connection (method)">#read_connection</a></p>

  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <a href="FacebookGraph.html" title="Fogli::FacebookGraph (class)">FacebookGraph</a></h3>
  <p class="inherited"><a href="FacebookGraph.html#error_check-class_method" title="Fogli::FacebookGraph.error_check (method)">error_check</a>, <a href="FacebookGraph.html#parse_response-class_method" title="Fogli::FacebookGraph.parse_response (method)">parse_response</a>, <a href="FacebookGraph.html#request-class_method" title="Fogli::FacebookGraph.request (method)">request</a></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <p class="signature first" id="initialize-instance_method">
  
    - (<tt><a href="" title="Fogli::FacebookObject (class)">FacebookObject</a></tt>) <strong>initialize</strong>(data = nil) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Initialize a facebook object. If given some data, it will
attempt to populate the various properties with the given data.</p>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <span class='name'>data</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The data for this object.</p></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


121
122
123
124
125
126
127
128
129
130</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/fogli/facebook_object.rb', line 121</span>

<span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='data identifier id'>data</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='data identifier id'>data</span> <span class='opasgn op'>||=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>

  <span class='comment val'># Pull out any &quot;special&quot; values which may be in the data hash</span>
  <span class='@_loaded ivar id'>@_loaded</span> <span class='assign token'>=</span> <span class='notop op'>!</span><span class='notop op'>!</span><span class='data identifier id'>data</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='symbol val'>:_loaded</span><span class='rparen token'>)</span>
  <span class='@_fields ivar id'>@_fields</span> <span class='assign token'>=</span> <span class='data identifier id'>data</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='symbol val'>:_fields</span><span class='rparen token'>)</span> <span class='orop op'>||</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='@_fields ivar id'>@_fields</span><span class='dot token'>.</span><span class='collect! fid id'>collect!</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='f identifier id'>f</span><span class='bitor op'>|</span> <span class='f identifier id'>f</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span> <span class='rbrace token'>}</span>

  <span class='populate_properties identifier id'>populate_properties</span><span class='lparen token'>(</span><span class='data identifier id'>data</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='notop op'>!</span><span class='data identifier id'>data</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <span id="_fields-instance_method"></span>
      <div class="method_details first">
  <p class="signature first" id="_fields-instance_method">
  
    - (<tt>Object</tt>) <strong>_fields</strong>  <span class="extras">(readonly)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Returns the value of attribute _fields</p>

  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


53
54
55</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/fogli/facebook_object.rb', line 53</span>

<span class='def def kw'>def</span> <span class='_fields identifier id'>_fields</span>
  <span class='@_fields ivar id'>@_fields</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <span id="_raw-instance_method"></span>
      <div class="method_details ">
  <p class="signature " id="_raw-instance_method">
  
    - (<tt>Object</tt>) <strong>_raw</strong>  <span class="extras">(readonly)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Returns the value of attribute _raw</p>

  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


54
55
56</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/fogli/facebook_object.rb', line 54</span>

<span class='def def kw'>def</span> <span class='_raw identifier id'>_raw</span>
  <span class='@_raw ivar id'>@_raw</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="exist?-class_method">
  
    + (<tt>Boolean</tt>) <strong>exist?</strong>(id) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Checks if the given object exists within the Facebook
Graph. This method will return <code>true</code> or <code>false</code> depending on
if the object exists. Calling <tt><a href="#exist%3F-class_method" title="Fogli::FacebookObject.exist? (method)">exist?</a></tt> is more efficient than
calling <tt><a href="#exist%3F-instance_method" title="Fogli::FacebookObject#exist? (method)">#exist?</a></tt> if you only care about the existence of an
object, since <tt><a href="#exist%3F-class_method" title="Fogli::FacebookObject.exist? (method)">exist?</a></tt> does not load all the properties
associated with an object, which lowers bandwidth and network
time.</p>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <span class='name'>id</span>
      
      
      
        &mdash;
        <div class='inline'><p>ID of the object</p></div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


99
100
101
102
103
104</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/fogli/facebook_object.rb', line 99</span>

<span class='def def kw'>def</span> <span class='exist? fid id'>exist?</span><span class='lparen token'>(</span><span class='id identifier id'>id</span><span class='rparen token'>)</span>
  <span class='get identifier id'>get</span><span class='lparen token'>(</span><span class='dstring node'>&quot;/#{id}&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:fields</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;id&quot;</span><span class='rparen token'>)</span>
  <span class='true true kw'>true</span>
<span class='rescue rescue kw'>rescue</span> <span class='Fogli constant id'>Fogli</span><span class='colon2 op'>::</span><span class='Exception constant id'>Exception</span>
  <span class='false false kw'>false</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="find-class_method">
  
    + (<tt><a href="" title="Fogli::FacebookObject (class)">FacebookObject</a></tt>) <strong>find</strong>(id, options = nil) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='[]-class_method'>[]</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    <p>Finds the facebook object associated with the given <code>id</code>. The
object is <strong>not loaded</strong> until the first property access. To
check if an object exists, you can call <tt><a href="#exist%3F-instance_method" title="Fogli::FacebookObject#exist? (method)">#exist?</a></tt> on the
object itself, which will proceed to load all the relevant
properties as well. Or, you can use the class-level <tt><a href="#exist%3F-class_method" title="Fogli::FacebookObject.exist? (method)">exist?</a></tt>
if you only care about if the object exists, but not about
it's properties.</p>

<p>For examples on how to use this method, please view the
documentation for the entire <tt><a href="" title="Fogli::FacebookObject (class)"></a></tt> class.</p>

  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <span class='name'>id</span>
      
      
      
        &mdash;
        <div class='inline'><p>ID of the object
above.</p></div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <span class='name'>options</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Options such as <code>fields</code>.</p></div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><a href="" title="Fogli::FacebookObject (class)">FacebookObject</a></tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


76
77
78
79
80
81
82
83
84
85
86</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/fogli/facebook_object.rb', line 76</span>

<span class='def def kw'>def</span> <span class='find identifier id'>find</span><span class='lparen token'>(</span><span class='id identifier id'>id</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='data identifier id'>data</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span> <span class='symbol val'>:_loaded</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='false false kw'>false</span><span class='comma token'>,</span> <span class='symbol val'>:id</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='id identifier id'>id</span> <span class='rbrace token'>}</span>
  <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='verify_options identifier id'>verify_options</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='comma token'>,</span> <span class='symbol val'>:valid_keys</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='symbol val'>:fields</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
  <span class='data identifier id'>data</span><span class='lbrack token'>[</span><span class='symbol val'>:_fields</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='data identifier id'>data</span><span class='lbrack token'>[</span><span class='symbol val'>:_fields</span><span class='rbrack token'>]</span> <span class='lshft op'>&lt;&lt;</span> <span class='lbrack token'>[</span><span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:fields</span><span class='rbrack token'>]</span><span class='rbrack token'>]</span> <span class='if if_mod kw'>if</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:fields</span><span class='rbrack token'>]</span>
  <span class='data identifier id'>data</span><span class='lbrack token'>[</span><span class='symbol val'>:_fields</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='flatten! fid id'>flatten!</span>

  <span class='comment val'># Initialize the object with the loaded flag off and with the</span>
  <span class='comment val'># ID, so that the object is lazy loaded on first use.</span>
  <span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='data identifier id'>data</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="inherited-class_method">
  
    + (<tt>Object</tt>) <strong>inherited</strong>(subclass) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Propagates the properties and connections to any subclasses
which inherit from FacebookObject. This method is called
automatically by Ruby.</p>

  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


109
110
111
112
113
114</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/fogli/facebook_object.rb', line 109</span>

<span class='def def kw'>def</span> <span class='inherited identifier id'>inherited</span><span class='lparen token'>(</span><span class='subclass identifier id'>subclass</span><span class='rparen token'>)</span>
  <span class='super super kw'>super</span>

  <span class='propagate_properties identifier id'>propagate_properties</span><span class='lparen token'>(</span><span class='subclass identifier id'>subclass</span><span class='rparen token'>)</span>
  <span class='propagate_connections identifier id'>propagate_connections</span><span class='lparen token'>(</span><span class='subclass identifier id'>subclass</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="delete-instance_method">
  
    - (<tt>Object</tt>) <strong>delete</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Delete an object. This always requires an access token. If you
do not yet have an access token, you must get one via <tt><a href="OAuth.html" title="Fogli::OAuth (class)">Fogli::OAuth</a></tt>.</p>

  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


190
191
192
193
194
195</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/fogli/facebook_object.rb', line 190</span>

<span class='def def kw'>def</span> <span class='delete identifier id'>delete</span>
  <span class='comment val'># Although Facebook supposedly supports DELETE requests, we use</span>
  <span class='comment val'># their POST method since the rest client seems to have problems</span>
  <span class='comment val'># with DELETE requests.</span>
  <span class='post identifier id'>post</span><span class='lparen token'>(</span><span class='symbol val'>:method</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:delete</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="exist?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>exist?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Checks if the given object exists. Since these objects are lazy
loaded, a direct <tt><a href="#find-class_method" title="Fogli::FacebookObject.find (method)">find</a></tt> call doesn't check the existence of an
object. By calling this method, it forces the data to load and
also returns <code>true</code> or <code>false</code> depending on if the object exists
or not.</p>

<p>If you only care about the existence of an object and not it's
data, use <tt><a href="#exist%3F-class_method" title="Fogli::FacebookObject.exist? (method)">exist?</a></tt> instead, which is more efficient.</p>

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


165
166
167
168
169
170</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/fogli/facebook_object.rb', line 165</span>

<span class='def def kw'>def</span> <span class='exist? fid id'>exist?</span>
  <span class='load! fid id'>load!</span>
  <span class='true true kw'>true</span>
<span class='rescue rescue kw'>rescue</span> <span class='Fogli constant id'>Fogli</span><span class='colon2 op'>::</span><span class='Exception constant id'>Exception</span>
  <span class='false false kw'>false</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="inspect-instance_method">
  
    - (<tt>Object</tt>) <strong>inspect</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Customize the inspect method to pretty print Facebook objects
and their associated properties and connections.</p>

  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


211
212
213
214
215
216
217
218
219
220
221
222
223</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/fogli/facebook_object.rb', line 211</span>

<span class='def def kw'>def</span> <span class='inspect identifier id'>inspect</span>
  <span class='values identifier id'>values</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='properties identifier id'>properties</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='bitor op'>|</span>
    <span class='value identifier id'>value</span> <span class='assign token'>=</span> <span class='read_property identifier id'>read_property</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span>
    <span class='values identifier id'>values</span> <span class='lshft op'>&lt;&lt;</span> <span class='dstring node'>&quot;#{name.inspect}=#{value.inspect}&quot;</span>
  <span class='end end kw'>end</span>

  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='connections identifier id'>connections</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='options identifier id'>options</span><span class='bitor op'>|</span>
    <span class='values identifier id'>values</span><span class='dot token'>.</span><span class='push identifier id'>push</span><span class='lparen token'>(</span><span class='dstring node'>&quot;#{name.inspect}=...&quot;</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='dstring node'>&quot;#&lt;#{self.class} #{values.sort.join(&quot;, &quot;)}&gt;&quot;</span><span class='dot token'>.</span><span class='strip identifier id'>strip</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="load!-instance_method">
  
    - (<tt>Object</tt>) <strong>load!</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Loads the data from Facebook. This is typically called once on
first access of a property.</p>

  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


143
144
145
146
147
148
149
150
151
152
153</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/fogli/facebook_object.rb', line 143</span>

<span class='def def kw'>def</span> <span class='load! fid id'>load!</span>
  <span class='Fogli constant id'>Fogli</span><span class='dot token'>.</span><span class='logger identifier id'>logger</span><span class='dot token'>.</span><span class='info identifier id'>info</span><span class='lparen token'>(</span><span class='dstring node'>&quot;Fogli Load: #{self.class}[#{id}] (object_id: #{__id__})&quot;</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='Fogli constant id'>Fogli</span><span class='dot token'>.</span><span class='logger identifier id'>logger</span>

  <span class='params identifier id'>params</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='params identifier id'>params</span><span class='lbrack token'>[</span><span class='symbol val'>:fields</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='_fields identifier id'>_fields</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>&quot;,&quot;</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='notop op'>!</span><span class='_fields identifier id'>_fields</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>

  <span class='@_raw ivar id'>@_raw</span> <span class='assign token'>=</span> <span class='get identifier id'>get</span><span class='lparen token'>(</span><span class='params identifier id'>params</span><span class='rparen token'>)</span>
  <span class='populate_properties identifier id'>populate_properties</span><span class='lparen token'>(</span><span class='@_raw ivar id'>@_raw</span><span class='rparen token'>)</span>
  <span class='@_loaded ivar id'>@_loaded</span> <span class='assign token'>=</span> <span class='true true kw'>true</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="loaded?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>loaded?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Returns a boolean noting if the object's data has been loaded
yet. {FacebookObject}s are loaded on demand when the first
attribute is accessed.</p>

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


137
138
139</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/fogli/facebook_object.rb', line 137</span>

<span class='def def kw'>def</span> <span class='loaded? fid id'>loaded?</span>
  <span class='notop op'>!</span><span class='notop op'>!</span><span class='@_loaded ivar id'>@_loaded</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="read_property-instance_method">
  
    - (<tt>Object</tt>) <strong>read_property</strong>(name) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='read_property_original-instance_method'>read_property_original</span></span>
    </span>
  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


175
176
177
178
179
180
181
182
183
184
185
186</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/fogli/facebook_object.rb', line 175</span>

<span class='def def kw'>def</span> <span class='read_property identifier id'>read_property</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='name identifier id'>name</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span> <span class='neq op'>!=</span> <span class='symbol val'>:id</span>
    <span class='if if kw'>if</span> <span class='notop op'>!</span><span class='loaded? fid id'>loaded?</span>
      <span class='load! fid id'>load!</span>
    <span class='elsif elsif kw'>elsif</span> <span class='Fogli constant id'>Fogli</span><span class='dot token'>.</span><span class='logger identifier id'>logger</span>
      <span class='comment val'># Cache hit, log it if enabled</span>
      <span class='Fogli constant id'>Fogli</span><span class='dot token'>.</span><span class='logger identifier id'>logger</span><span class='dot token'>.</span><span class='info identifier id'>info</span><span class='lparen token'>(</span><span class='dstring node'>&quot;Fogli Cache: #{self.class}[#{id}].#{name} (object_id: #{__id__})&quot;</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>

  <span class='read_property_original identifier id'>read_property_original</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Tue Jun  8 19:49:14 2010 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool">yard</a>
  0.5.5 (ruby-1.8.7).
</div>

  </body>
</html>